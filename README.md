```markdown
# CarBotHelper

Телеграм бот для помощи автовладельцам. Этот бот предоставляет следующие функции:

* **Управление профилем:** Добавление и удаление автомобилей с указанием названия и года выпуска.
* **Напоминания:** Создание, просмотр и удаление напоминаний, привязанных к конкретному автомобилю. Напоминания отправляются в заданное время.
* **Заметки:** Создание, просмотр и удаление заметок. (В данный момент не реализовано, закомментированно в коде)
* **Покупки:** Добавление, просмотр и удаление покупок с возможностью добавления фотографии чека.  Также есть возможность поиска покупок по названию.
* **Аналитика:**  Добавление данных о расходах, просмотр общей суммы расходов,  генерация аналитических отчетов за выбранный период с графиками и разбивкой по категориям.


## Установка и запуск

### Предварительные требования

* Python 3.12
* `venv` (для управления виртуальным окружением)

### Шаги установки

1. Клонируйте репозиторий:

```bash
git clone https://github.com/ваш_репозиторий/CarBotHelper.git
```

2. Перейдите в директорию проекта:

```bash
cd CarBotHelper
```

3. Создайте виртуальное окружение:

```bash
python3.12 -m venv .venv
```

4. Активируйте виртуальное окружение:

```bash
source .venv/bin/activate  # Linux/macOS
.venv\Scripts\activate  # Windows
```

5. Установите зависимости:

```bash
pip install -r requirements.txt
```

6. Создайте файл `.env` в корневой директории проекта и добавьте туда токен вашего бота:

```
TOKEN=ВАШ_ТОКЕН_БОТА
```

7. Запустите бота:

```bash
python bumblebeereminderbot/app.py
```

## Структура проекта

* `bumblebeereminderbot/app.py`: основной файл приложения, содержащий логику запуска бота.
* `bumblebeereminderbot/config.py`: файл конфигурации, содержащий токен бота.
* `bumblebeereminderbot/database/`: директория, содержащая файлы для работы с базой данных.
    * `models.py`: описание моделей базы данных.
    * `requests.py`: функции для выполнения запросов к базе данных.
* `bumblebeereminderbot/telegram/`: директория, содержащая файлы, связанные с Telegram API.
    * `common/bot_cmds_list.py`: список команд бота.
    * `handlers/user_private.py`: обработчики команд и сообщений в приватных чатах.
    * `kbd/inline.py`: функции для создания inline-клавиатур.
    * `middlewares/scheduler.py`: middleware для интеграции APScheduler.
* `bumblebeereminderbot/utils/create_dicts.py`:  вспомогательные функции для работы со словарями.
* `db.sqlite3`: файл базы данных SQLite.
* `log.log`: лог-файл.
* `requirements.txt`: файл с зависимостями проекта


## База данных

Бот использует базу данных SQLite для хранения информации о пользователях, автомобилях, напоминаниях, заметках, покупках и аналитике.  Описание моделей базы данных находится в файле `bumblebeereminderbot/database/models.py`.


## Планировщик задач (APScheduler)

Для отправки напоминаний используется планировщик задач APScheduler.  Он настроен на сохранение задач в базу данных, что позволяет сохранять напоминания между перезапусками бота.


## Дополнительная информация


Этот бот был разработан с использованием aiogram 3.x, SQLAlchemy 2.x, и APScheduler.  Для более подробной информации о каждой библиотеке, пожалуйста, обратитесь к их официальной документации.
```
